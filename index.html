<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Clojure in the Service of Her Majesty's Government</title>
    <link rel="stylesheet" href="css/reveal.min.css">
    <link rel="stylesheet" href="lib/css/zenburn.css">
</head>

<body>
<div class="reveal">
    <div class="slides">
        <section>
            <h1>Clojure in the Service of Her Majesty's Government</h1>
            <h2>Rachel Newstead</h2>
            <h2>Philip Potter</h2>
            <h2><a href="http://philandstuff.github.io/clojure-hmg/">http://philandstuff.github.io/clojure-hmg/</a></h2>
        </section>
        <section data-background="services.png"></section>
        <section>
          <section data-background="register-a-wand.png"></section>
          <section data-background="verify-start.png"></section>
          <section data-background="verify-choose-idp.png"></section>
          <section data-background="digidentity.png"></section>
        </section>
        <section>
          <aside class="notes">
            Benefits:
            <ul>
              <li>single set of credentials for all of government
              <li>service don't have to reinvent the wheel
              <li>separation of data -- services don't get access unless you log in to them
            </ul>
          </aside>
        </section>
        <section>
          <aside class="notes">
            Here are the what ifs:

            Suppose I'm a manager of a Quidditch Club.  We need to buy
            some wands for the squad.

            <ul>
              <li>Register to club and not to individual
              <li>How does the ministry know we're a real club?
              <li>How does the ministry know I'm really the manager?
            </ul>
          </aside>
        </section>
        <section>
          <section>
            <h1>Identity Assurance for Organisations and Agents</h1>
            <h1>Alpha</h1>
          </section>
          <section data-background="phases.png"></section>
          <section>
            <aside class="notes">the team</aside>
          </section>
          <section>
            <h1>GOV.UK Verify technology</h1>
            <ul>
              <li>Java</li>
              <li>DropWizard</li>
              <li>SAML</li>
            </ul>
          </section>
          <section>
            <h1>Technology to explore</h1>
            <ul>
              <li>Clojure</li>
              <li>OpenID Connect</li>
            </ul>
          </section>
        </section>
        <section>
          <section><img src="simple-auth.png"></section>
          <section><img src="simple-auth-no-ua.png"></section>
          <section><img src="auth-with-hub.png"></section>
          <section><img src="auth-with-hub-no-ua.png"></section>
        </section>
        <section>
          <aside class="notes">
            Architectural questions to answer
          </aside>
        </section>
        <section>
            <h1>what was the thing?</h1>
            <ul>
                <li>13 weeks</li>
                <li>prototype log in system</li>
                <li>find out if it is technically feasible</li>
                <li>work out what bits are simple and what bits are tricky (from a technical perspective)</li>
                <li>keep user research honest</li>
                <li>investigate OpenId Connect</li>
            </ul>
        </section>

        <section>
            <section>
                <h2>why clojure?</h2>
            </section>
            <section>
                <ul>
                    <li>it's not usually used for rapid protoyping</li>
                    <li>half the team had never used the language before</li>
                </ul>
            </section>
            <section>
                <ul>
                    <li>fast feedback (repl)</li>
                    <li>basic data exchange through http calls</li>
                    <li>simple and no boilerplate</li>
                    <li>good json support (open id connect)</li>
                </ul>
            </section>
        </section>

        <section>
            <h2>how did we convince the those in charge to let us use clojure?</h2>
            <p>it was made easier as we were building a prototype that was intended to be thrown away</p>
        </section>

        <section>
            <section>
                <h2>how was it using clojure for the first time?</h2>
            </section>
            <section>
                <h3>for a total noob</h3>
                <ul>
                    <li>clojure: new</li>
                </ul>
            </section>
            <section><img src="real-programmers.png"></section>
            <section>
                <h3>for someone who's played a lot in spare time</h3>
            </section>
        </section>

        <section>
            <section>
                <h2>what worked?</h2>
            </section>
            <section>
                <p>reloaded workflow</p>
            </section>
            <section>
                <h1>
                <pre><code class="clojure" data-trim>
(defonce candela nil)

(defn go []
        (alter-var-root #'candela
        (constantly (jetty/run-jetty (cweb/app config)))))

(defn stop []
    (.stop candela))

(defn reset []
    (stop)
    (repl/refresh :after 'user/go))
                </code></pre></h1>
            </section>
            <section>
                <h1>
                <pre><code class="clojure" data-trim>
(defn foo
  (-> session
    (follow "foo")))
                </code></pre></h1>
            </section>
        </section>

        <section>
            <h2>what didn't go so well?</h2>
        </section>

        <section>
            <h2>was it ultimately a success?</h2>
        </section>

        <section>
            <h2>what would we change if we did it again?</h2>
        </section>

    </div>

</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.min.js"></script>

<script>
    Reveal.initialize({
    history: true,
    margin: 0.00,
    // Optional libraries used to extend on reveal.js
dependencies: [
        // Cross-browser shim that fully implements classList - https://github.com/eligrey/classList.js/
        { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },

        // Interpret Markdown in <section> elements
        //{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
        //{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },

        // Syntax highlight for <code> elements
        { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },

        // Zoom in and out with Alt+click
        { src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },

        // Speaker notes
        { src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } },

        // Remote control your reveal.js presentation using a touch device
        //{ src: 'plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } },

        // MathJax
        { src: 'plugin/math/math.js', async: true }
    ]
    });

</script>

</body>
</html>
